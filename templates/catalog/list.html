{% extends 'base.html' %}
{% load humanize %}
{% block title %}Categories{% endblock %}
{% block content %}
<div class="row mb-3">
    <!-- Sidebar with categories -->
    <div class="col-12">
      <h3>Categories:</h3>
    </div>
    {% for c in categories %}
    <div class="col-md-3 col-12 mb-4 p-1 main-div">
      <a href="{% url 'catalog:category_list_by_category' c.slug %}">
        <div class="card shadow category-item py-2 px-2">
            <div class="image-grid category-gallery">
              {% if c.images.all %}
                {% for p in c.images.all|slice:":6" %}
                <picture>
                  <img src="{{ first_image.image.url }}" srcset="{{ first_image.image.url }} 600w, {{ first_image.image.url }} 1200w, {{ first_image.image.url }} 1800w"
                    sizes="(max-width: 600px) 100vw, (max-width: 1200px) 50vw, 33vw" class="card-img-top responsive" alt="{{ product.title }}">
                </picture>
                {% endfor %}
              {% else %}
                <div class="grid-img item-placeholder">No image</div>
              {% endif %}
            </div>
            <div class="item-label">{{ c.name }}</div>
        </div>
      </a>
    </div>
    {% endfor %}
</div>
{% endblock %}